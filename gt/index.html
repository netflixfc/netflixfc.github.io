<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Maew Mwng Chat Professional</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary': '#06b6d4', // sky-500
                        'secondary': '#f0f9ff', // sky-50
                    },
                    fontFamily: {
                        sans: ['Mitr', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Mitr:wght@300;400;500;700&display=swap');
        
        .scroll-area::-webkit-scrollbar {
            width: 6px;
        }
        .scroll-area::-webkit-scrollbar-thumb {
            background-color: #94a3b8;
            border-radius: 10px;
        }
        .scroll-area::-webkit-scrollbar-track {
            background-color: transparent;
        }

        .web-app-container {
            height: 95vh;
            max-height: 1000px;
            width: 95vw;
            max-width: 1400px;
        }

        .message-incoming {
            background-color: #ffffff;
            border-radius: 1.5rem;
            border-top-left-radius: 0.5rem;
        }
        .message-outgoing {
            background-color: #06b6d4;
            border-radius: 1.5rem;
            border-top-right-radius: 0.5rem;
        }

        /* Mobile View Specific Styles */
        /* View wrapper holds the two main panels (List & Chat) side-by-side */
        #view-wrapper {
            transition: transform 0.3s ease-in-out;
            will-change: transform;
        }

        /* Mobile: Both panels take up the full container width */
        @media (max-width: 767px) {
            #view-wrapper {
                width: 200%; /* Total width of sidebar + chat area */
                transform: translateX(0); /* Default: Show Sidebar */
            }
            .panel-mobile-full {
                width: 50%;
            }
            /* Ensure the sidebar takes 100% of the mobile screen width */
            #sidebar {
                 width: 50%; /* It's 50% of the 200% view-wrapper, meaning 100% of the container */
            }
             /* Ensure the details sidebar is always hidden on mobile */
            #details-sidebar {
                display: none;
            }
        }

        /* Desktop View Styles (md and up) */
        @media (min-width: 768px) {
            #view-wrapper {
                width: 100%; /* Standard flex container */
                transform: translateX(0) !important; /* Lock position */
            }
        }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen p-0 md:p-4 font-sans">

    <!-- Web Application Container -->
    <div id="app-container" class="web-app-container bg-white rounded-xl shadow-2xl overflow-hidden flex relative">

        <!-- View Wrapper (Handles Sliding on Mobile) -->
        <div id="view-wrapper" class="flex flex-1 md:flex-none">
            
            <!-- 1. Left Sidebar (Contact List, Friends & Groups) -->
            <!-- On mobile, this acts as the "first screen" -->
            <div id="sidebar" class="panel-mobile-full md:w-80 lg:w-96 flex-shrink-0 border-r border-gray-200 flex flex-col transition-all duration-300">
                
                <!-- User Profile & Search Header -->
                <div class="p-4 flex items-center justify-between shadow-sm border-b border-gray-100">
                    <img src="https://i.pravatar.cc/60?u=myprofile" alt="‡∏£‡∏π‡∏õ‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô" class="w-10 h-10 rounded-full border-2 border-primary">
                    <h1 class="text-xl font-bold text-gray-800 ml-3 flex-1">Maew Mwng üê±</h1>
                    <button class="text-primary hover:text-primary-dark ml-auto p-2 rounded-full hover:bg-gray-100" aria-label="‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏ä‡∏ó‡πÉ‡∏´‡∏°‡πà">
                        <!-- New Chat/Group Icon (Plus) -->
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4" /></svg>
                    </button>
                </div>

                <!-- Tab Navigation (Friends/Groups) -->
                <div class="p-4 flex space-x-2 border-b border-gray-100">
                    <button class="flex-1 py-2 text-sm font-semibold rounded-full bg-primary text-white shadow-md transition duration-150">
                        ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô (3)
                    </button>
                    <button class="flex-1 py-2 text-sm font-semibold rounded-full text-gray-600 hover:bg-gray-100 transition duration-150">
                        ‡∏Å‡∏•‡∏∏‡πà‡∏° (1)
                    </button>
                </div>

                <!-- Conversation List -->
                <div class="flex-1 overflow-y-auto scroll-area">
                    <!-- Active Chat Item - Added click handler to switch to chat view -->
                    <div class="chat-item flex items-center p-4 bg-secondary border-l-4 border-primary cursor-pointer transition duration-150" onclick="showChat('‡πÄ‡∏à‡πâ‡∏≤‡πÄ‡∏´‡∏°‡∏µ‡∏¢‡∏ß‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏ã‡∏µ‡πâ', 'https://i.pravatar.cc/60?u=friend1', '‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå')">
                        <img src="https://i.pravatar.cc/60?u=friend1" alt="‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1" class="w-12 h-12 rounded-full mr-4 shadow-md">
                        <div class="flex-1 truncate">
                            <div class="flex justify-between items-center">
                                <h2 class="font-bold text-gray-800 truncate">‡πÄ‡∏à‡πâ‡∏≤‡πÄ‡∏´‡∏°‡∏µ‡∏¢‡∏ß‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏ã‡∏µ‡πâ</h2>
                                <span class="text-xs text-primary font-semibold">14:35</span>
                            </div>
                            <div class="flex justify-between items-center mt-1">
                                <p class="text-gray-600 text-sm truncate">‡πÄ‡∏î‡∏µ‡πã‡∏¢‡∏ß‡πÑ‡∏õ‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏ö‡πâ‡∏≤‡∏ô‡∏ô‡∏∞ ‡∏ã‡∏∑‡πâ‡∏≠‡∏´‡∏ô‡∏°...</p>
                                <span class="bg-primary text-white text-xs w-5 h-5 flex items-center justify-center rounded-full font-bold shadow-sm">2</span>
                            </div>
                        </div>
                    </div>

                    <!-- Inactive Chat Items (Placeholder structure) -->
                    <div class="chat-item flex items-center p-4 hover:bg-gray-50 cursor-pointer transition duration-150" onclick="showChat('‡∏ó‡∏≤‡∏™‡πÅ‡∏°‡∏ß‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡∏´‡∏ô‡∏∂‡πà‡∏á', 'https://i.pravatar.cc/60?u=friend2', '‡∏≠‡∏≠‡∏ü‡πÑ‡∏•‡∏ô‡πå')">
                        <img src="https://i.pravatar.cc/60?u=friend2" alt="‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2" class="w-12 h-12 rounded-full mr-4">
                        <div class="flex-1 truncate">
                            <div class="flex justify-between items-center">
                                <h2 class="font-semibold text-gray-800 truncate">‡∏ó‡∏≤‡∏™‡πÅ‡∏°‡∏ß‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡∏´‡∏ô‡∏∂‡πà‡∏á</h2>
                                <span class="text-xs text-gray-400">‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ß‡∏≤‡∏ô</span>
                            </div>
                            <p class="text-gray-500 text-sm truncate mt-1">‡πÇ‡∏≠‡πÄ‡∏Ñ‡∏Ñ‡∏Ñ‡∏Ñ‡∏Ñ‡∏Ñ</p>
                        </div>
                    </div>
                </div>
                
                <!-- Sidebar Footer -->
                 <div class="p-3 border-t border-gray-200 flex justify-center text-sm text-gray-500">
                    <p>Maew Mwng Chat v1.0</p>
                </div>

            </div>

            <!-- 2. Main Chat Area (Conversation) -->
            <!-- On mobile, this acts as the "second screen" (right) -->
            <div id="main-chat" class="panel-mobile-full flex flex-col bg-secondary flex-1">

                <!-- Chat Header -->
                <header class="bg-white p-4 shadow-md z-10 flex items-center border-b border-gray-200">
                    <!-- Back Button (Visible on mobile only to slide back to list) -->
                    <button id="back-button" class="md:hidden text-gray-500 mr-3 p-1 rounded-full hover:bg-gray-100" onclick="showList()" aria-label="‡∏Å‡∏•‡∏±‡∏ö‡∏™‡∏π‡πà‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡πÅ‡∏ä‡∏ó">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" /></svg>
                    </button>
                    
                    <img id="chat-avatar" src="https://i.pravatar.cc/50?u=friend1" alt="‡∏£‡∏π‡∏õ‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå‡πÅ‡∏ä‡∏ó" class="w-10 h-10 rounded-full mr-3 shadow-sm">
                    <div class="flex-1">
                        <h2 id="chat-title" class="font-bold text-gray-800">‡πÄ‡∏à‡πâ‡∏≤‡πÄ‡∏´‡∏°‡∏µ‡∏¢‡∏ß‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏ã‡∏µ‡πâ</h2>
                        <p id="chat-status" class="text-xs text-green-500 flex items-center">
                            <span class="w-2 h-2 bg-green-500 rounded-full mr-1"></span>
                            ‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå
                        </p>
                    </div>
                    
                    <!-- Action Buttons -->
                    <div class="flex space-x-2">
                        <button class="text-gray-500 hover:text-primary p-2 rounded-full hover:bg-gray-100 transition duration-150" aria-label="‡πÇ‡∏ó‡∏£‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠">
                            <!-- Video Call Icon -->
                             <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z" /></svg>
                        </button>
                        <!-- Detail Icon (Toggle for desktop, but not implemented for sliding in this mobile fix version) -->
                        <button id="details-toggle" class="text-gray-500 hover:text-primary p-2 rounded-full hover:bg-gray-100 transition duration-150 lg:hidden" aria-label="‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÅ‡∏ä‡∏ó">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                        </button>
                    </div>
                </header>

                <!-- Message Display Area -->
                <div id="message-area" class="flex-1 overflow-y-auto p-4 md:p-6 space-y-4 scroll-area">
                    <!-- Message content goes here... -->
                    <div class="flex justify-center my-4">
                        <span class="text-xs text-gray-500 bg-gray-200 px-3 py-1 rounded-full shadow-sm">
                            25 ‡∏ï‡∏∏‡∏•‡∏≤‡∏Ñ‡∏° 2568
                        </span>
                    </div>

                    <div class="flex justify-start">
                        <div class="max-w-[75%] lg:max-w-[60%] flex flex-col items-start">
                            <div class="message-incoming p-4 shadow-md">
                                <p class="text-sm text-gray-800">‡∏ß‡πà‡∏≤‡πÑ‡∏á‡∏á‡∏á‡∏á‡∏á‡∏á‡∏á‡∏á ‡∏™‡∏ö‡∏≤‡∏¢‡∏î‡∏µ‡πÑ‡∏´‡∏°‡∏Ñ‡∏∞ ‡∏´‡∏≤‡∏¢‡πÑ‡∏õ‡∏ô‡∏≤‡∏ô‡πÄ‡∏•‡∏¢‡∏ô‡∏∞ ‡πÑ‡∏°‡πà‡πÄ‡∏´‡πá‡∏ô‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå‡∏´‡∏•‡∏≤‡∏¢‡∏ß‡∏±‡∏ô‡πÅ‡∏•‡πâ‡∏ß</p>
                            </div>
                            <span class="text-xs text-gray-500 mt-1 ml-3">14:32</span>
                        </div>
                    </div>

                    <div class="flex justify-end">
                        <div class="max-w-[75%] lg:max-w-[60%] flex flex-col items-end">
                            <div class="message-outgoing p-4 shadow-md text-white">
                                <p class="text-sm">‡πÄ‡∏î‡∏µ‡πã‡∏¢‡∏ß‡πÑ‡∏õ‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏ö‡πâ‡∏≤‡∏ô‡∏ô‡∏∞ ‡∏ã‡∏∑‡πâ‡∏≠‡∏´‡∏ô‡∏°‡πÑ‡∏õ‡∏ù‡∏≤‡∏Å‡πÅ‡∏°‡∏ß‡πÄ‡∏°‡∏¥‡∏á‡∏î‡πâ‡∏ß‡∏¢ ‡∏Ñ‡∏¥‡∏î‡∏ñ‡∏∂‡∏á‡∏°‡∏≤‡∏Å‡πÜ ‡πÄ‡∏•‡∏¢!</p>
                            </div>
                            <span class="text-xs text-gray-300 mt-1 mr-3">14:35 ¬∑ ‡∏≠‡πà‡∏≤‡∏ô‡πÅ‡∏•‡πâ‡∏ß</span>
                        </div>
                    </div>
                </div>

                <!-- Chat Footer (Input Area) -->
                <footer class="bg-white p-4 flex items-center border-t border-gray-200 z-10 shadow-lg">
                    <!-- Attachment Button -->
                    <button class="text-gray-500 p-3 rounded-full hover:bg-gray-100 transition duration-150 hover:text-primary" aria-label="‡πÅ‡∏ô‡∏ö‡πÑ‡∏ü‡∏•‡πå">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13" /></svg>
                    </button>

                    <!-- Text Input -->
                    <input type="text" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà..." class="flex-1 mx-3 p-3 text-base bg-gray-100 rounded-full focus:outline-none focus:ring-2 focus:ring-primary transition duration-150 shadow-inner" aria-label="‡∏ä‡πà‡∏≠‡∏á‡∏õ‡πâ‡∏≠‡∏ô‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°">
                    
                    <!-- Send Button -->
                    <button class="bg-primary text-white p-3 rounded-full hover:bg-sky-600 shadow-md transition duration-150 transform hover:scale-105" aria-label="‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 transform rotate-90" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8" /></svg>
                    </button>
                </footer>
            </div>
            
        </div>
        
        <!-- 3. Right Sidebar (Chat Details/Info) - Always hidden on mobile/md, shown on lg screens -->
        <div id="details-sidebar" class="hidden lg:block w-72 flex-shrink-0 border-l border-gray-200 p-4 bg-gray-50 overflow-y-auto scroll-area transition-all duration-300">
            <h3 class="text-lg font-bold text-gray-800 mb-4 border-b pb-2">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏™‡∏ô‡∏ó‡∏ô‡∏≤</h3>
            <div id="detail-content">
                <div class="flex flex-col items-center mb-6">
                    <img id="detail-avatar" src="https://i.pravatar.cc/100?u=friend1" alt="‡∏£‡∏π‡∏õ‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô" class="w-24 h-24 rounded-full mb-3 shadow-lg border-4 border-white">
                    <p id="detail-name" class="text-xl font-semibold text-gray-800">‡πÄ‡∏à‡πâ‡∏≤‡πÄ‡∏´‡∏°‡∏µ‡∏¢‡∏ß‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏ã‡∏µ‡πâ</p>
                    <span class="text-sm text-gray-500">@meow_buddy</span>
                </div>
            </div>
        </div>
    </div>

    <script>
        const viewWrapper = document.getElementById('view-wrapper');
        const chatTitle = document.getElementById('chat-title');
        const chatAvatar = document.getElementById('chat-avatar');
        const chatStatus = document.getElementById('chat-status');
        const detailAvatar = document.getElementById('detail-avatar');
        const detailName = document.getElementById('detail-name');

        // Function to check if the screen is mobile based on Tailwind's 'md' breakpoint (768px)
        const isMobile = () => window.innerWidth < 768;

        // 1. Show the Chat Panel (Slides to the left)
        window.showChat = (name, avatar, status) => {
            // Update chat header details and detail panel
            chatTitle.textContent = name;
            chatStatus.textContent = status;
            detailName.textContent = name;

            // Update avatar images
            if (avatar === 'GROUP_ICON') {
                chatAvatar.src = 'https://i.pravatar.cc/50?u=group_default'; 
                detailAvatar.src = 'https://i.pravatar.cc/100?u=group_default';
            } else {
                chatAvatar.src = avatar;
                detailAvatar.src = avatar.replace('60', '100');
            }

            // If mobile, slide to the chat view
            if (isMobile()) {
                viewWrapper.style.transform = 'translateX(-50%)';
            }
        };

        // 2. Show the Sidebar (Slides back to the right)
        window.showList = () => {
            if (isMobile()) {
                viewWrapper.style.transform = 'translateX(0)';
            }
        };
        
        // 3. Handle window resize to reset the sliding behavior when transitioning to/from desktop
        let resizeTimeout;
        window.addEventListener('resize', () => {
            clearTimeout(resizeTimeout);
            resizeTimeout = setTimeout(() => {
                // If desktop size, ensure transform is reset so layout works via flexbox
                if (!isMobile()) {
                    viewWrapper.style.transform = 'translateX(0)';
                }
            }, 100); // Debounce resize event
        });
        
    </script>
</body>
</html>
