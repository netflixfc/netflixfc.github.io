<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JaiJai Parking Service</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap" rel="stylesheet">

    <style>
        /* Custom styles */
        body {
            font-family: 'Sarabun', sans-serif;
            background-color: #f0f2f5; /* Light gray background */
        }
        .main-container {
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            min-height: 100vh;
        }
        .card-qr {
            border: none;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        .footer-action {
            background-color: #ffffff;
            border-top: 1px solid #dee2e6;
        }
    </style>
</head>
<body>

    <div class="main-container">
        
        <header class="text-center p-3 bg-white shadow-sm">
            <h1 class="h4 text-primary fw-bold mb-0">üöó JaiJai Parking Service</h1>
            <p id="current-time" class="text-muted small mb-0"></p>
        </header>

        <main class="container my-4 text-center">
            <div class="card card-qr mx-auto" style="max-width: 380px;">
                <div class="card-header bg-primary text-white">
                    <h5 class="mb-0">‡∏Ñ‡πà‡∏≤‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£ 50 ‡∏ö‡∏≤‡∏ó</h5>
                </div>
                <div class="card-body p-4">
                    <p class="card-text">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏™‡πÅ‡∏Å‡∏ô QR Code ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô</p>
                    
                    <img src="https://res.cloudinary.com/dcwjok3nu/image/upload/v1759045158/carrent/qr.jpg" class="img-fluid rounded my-3" alt="Payment QR Code">
                    
                    <div id="success-alert" class="alert alert-success mt-3 d-none" role="alert">
                        ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à! ‚úÖ
                    </div>
                </div>
            </div>
        </main>

        <footer class="p-3 footer-action">
            <div class="d-grid gap-2" style="max-width: 380px; margin: auto;">
                 <button id="confirm-btn" class="btn btn-success btn-lg fw-bold">
                    ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô‡πÅ‡∏•‡∏∞‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
                </button>
            </div>
        </footer>

    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

    <script>
        // --- Get elements from the page ---
        const confirmBtn = document.getElementById('confirm-btn');
        const successAlert = document.getElementById('success-alert');
        const timeDisplay = document.getElementById('current-time');

        // --- Update clock function ---
        function updateTime() {
            const now = new Date();
            timeDisplay.textContent = `‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà ${now.toLocaleDateString('th-TH', { year: 'numeric', month: 'long', day: 'numeric'})} | ‡πÄ‡∏ß‡∏•‡∏≤ ${now.toLocaleTimeString('th-TH')}`;
        }
        setInterval(updateTime, 1000);
        updateTime();

        // --- Handle button click for manual confirmation ---
        confirmBtn.addEventListener('click', () => {
            // 1. Disable the button to prevent multiple clicks
            confirmBtn.disabled = true;
            confirmBtn.textContent = '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å...';
            
            // 2. Generate a transaction log
            const transactionId = 'LOG-' + Date.now();
            console.log(`Payment confirmed by staff. Logging transaction: ${transactionId}`);
            // In a real application, you would send this ID to your server here.

            // 3. Show the success message
            successAlert.classList.remove('d-none');

            // 4. Simulate a short delay, then reset for the next car
            setTimeout(() => {
                // Hide the success message
                successAlert.classList.add('d-none');
                
                // Re-enable the button and reset its text
                confirmBtn.disabled = false;
                confirmBtn.textContent = '‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô‡πÅ‡∏•‡∏∞‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•';
            }, 3000); // Reset after 3 seconds
        });
    </script>
</body>
</html>
